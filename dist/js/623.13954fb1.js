"use strict";(self["webpackChunkshopping_list_2"]=self["webpackChunkshopping_list_2"]||[]).push([[623],{8623:function(e,t,i){i.r(t),i.d(t,{default:function(){return b}});var s=i(6768);const n={class:"container-content"};function o(e,t,i,o,a,r){const p=(0,s.g2)("aShoppingListDetailHeader"),c=(0,s.g2)("aShoppingListDetailContent");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.bF)(p),(0,s.Lk)("div",n,[(0,s.bF)(c)])],64)}const a=e=>((0,s.Qi)("data-v-e6f9ded2"),e=e(),(0,s.jt)(),e),r=a((()=>(0,s.Lk)("h1",null,"Shopping list 2",-1)));function p(e,t,i,n,o,a){return(0,s.uX)(),(0,s.CE)("header",null,[r,(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>a.redirectToHome&&a.redirectToHome(...e))},"Back")])}i(4114);var c={methods:{redirectToHome(){this.$router.push({name:"Shopping List - List"})}}},l=i(1241);const d=(0,l.A)(c,[["render",p],["__scopeId","data-v-e6f9ded2"]]);var h=d,u=i(5130),m=i(4232);const k={class:"shopping-list-data-detail"},g={class:"shopping-list-data-items"},v=["onUpdate:modelValue","onChange"];function L(e,t,i,n,o,a){return(0,s.uX)(),(0,s.CE)("div",k,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.shoppingList?.items,(e=>((0,s.uX)(),(0,s.CE)("ul",{key:e.id},[(0,s.Lk)("li",g,[(0,s.bo)((0,s.Lk)("input",{type:"checkbox","onUpdate:modelValue":t=>e.is_checked=t,onChange:t=>a.isChecked(e)},null,40,v),[[u.lH,e.is_checked]]),(0,s.Lk)("p",null,(0,m.v_)(e.name),1),(0,s.Lk)("p",null,(0,m.v_)(e.value),1),(0,s.Lk)("p",null,(0,m.v_)(e.unit),1)])])))),128)),(0,s.Lk)("form",{onSubmit:t[1]||(t[1]=(0,u.D$)(((...e)=>a.addNewItem&&a.addNewItem(...e)),["prevent"]))},[(0,s.bo)((0,s.Lk)("input",{type:"text",placeholder:"Enter your new item","onUpdate:modelValue":t[0]||(t[0]=e=>o.newItem=e)},null,512),[[u.Jo,o.newItem]])],32),(0,s.Lk)("button",{class:"detail-btn",onClick:t[2]||(t[2]=(...e)=>a.removeItemDetail&&a.removeItemDetail(...e))},"Remove item")])}var C=i(8355),_={data(){return{shoppingList:null,newItem:"",isCheck:null}},async mounted(){try{const{data:{data:e}}=await C.A.get("/api/v1/shopping-lists");this.shoppingList=e.find((({id:e})=>e==this.$route.params.id))}catch(e){console.error("Error:",e),this.shoppingList={error:e}}},methods:{async addNewItem(){try{const e={name:this.newItem,unit:"piece",value:1,is_checked:!1},t=await C.A.post(`/api/v1/shopping-lists/${this.$route.params.id}/items`,e),i=t.data.data;this.shoppingList.items.push(i),this.newItem=""}catch(e){console.error("Error:",e)}},async isChecked(e){this.isCheck=e.is_checked;try{await C.A.put(`/api/v1/shopping-lists/${this.$route.params.id}/items/${e.id}`,{is_checked:this.isCheck})}catch(t){console.error("Error:",t)}},async removeItemDetail(){try{const e=this.shoppingList.items.filter((e=>!0===e.is_checked));e.map((async e=>{await C.A.delete(`/api/v1/shopping-lists/${this.$route.params.id}/items/${e.id}`),this.shoppingList.items=this.shoppingList.items.filter((e=>!e.is_checked))}))}catch(e){console.error("Error:",e)}}}};const f=(0,l.A)(_,[["render",L],["__scopeId","data-v-e237fc32"]]);var w=f,I={components:{aShoppingListDetailHeader:h,aShoppingListDetailContent:w}};const y=(0,l.A)(I,[["render",o]]);var b=y}}]);
//# sourceMappingURL=623.13954fb1.js.map