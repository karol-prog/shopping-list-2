"use strict";(self["webpackChunkshopping_list_2"]=self["webpackChunkshopping_list_2"]||[]).push([[618],{8618:function(e,t,i){i.r(t),i.d(t,{default:function(){return D}});var s=i(6768);const n={class:"container-content"};function o(e,t,i,o,a,p){const l=(0,s.g2)("aShoppingListDetailHeader"),r=(0,s.g2)("aShoppingListDetailContent");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.bF)(l),(0,s.Lk)("div",n,[(0,s.bF)(r)])],64)}const a=e=>((0,s.Qi)("data-v-e6f9ded2"),e=e(),(0,s.jt)(),e),p=a((()=>(0,s.Lk)("h1",null,"Shopping list 2",-1)));function l(e,t,i,n,o,a){return(0,s.uX)(),(0,s.CE)("header",null,[p,(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>a.redirectToHome&&a.redirectToHome(...e))},"Back")])}i(4114);var r={methods:{redirectToHome(){this.$router.push({name:"Shopping List - List"})}}},d=i(1241);const h=(0,d.A)(r,[["render",l],["__scopeId","data-v-e6f9ded2"]]);var c=h,u=i(5130),m=i(4232);const g=e=>((0,s.Qi)("data-v-27994fdc"),e=e(),(0,s.jt)(),e),k={class:"shopping-list-data-detail"},w={class:"shopping-list-data-items"},v=["onUpdate:modelValue","onChange"],L=["onClick"],I=["onKeypress"],y=g((()=>(0,s.Lk)("option",{value:"grams"},"grams",-1))),C=g((()=>(0,s.Lk)("option",{value:"kilograms"},"kilograms",-1))),f=g((()=>(0,s.Lk)("option",{value:"piece"},"piece",-1))),_=g((()=>(0,s.Lk)("option",{value:"package"},"packages",-1))),E=[y,C,f,_];function b(e,t,i,n,o,a){return(0,s.uX)(),(0,s.CE)("div",k,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.shoppingList?.items,(e=>((0,s.uX)(),(0,s.CE)("ul",{key:e.id},[(0,s.Lk)("li",w,[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t=>e.is_checked=t,onChange:t=>a.isChecked(e),type:"checkbox"},null,40,v),[[u.lH,e.is_checked]]),o.changeItems!==e.id?((0,s.uX)(),(0,s.CE)("div",{key:0,onClick:t=>a.showItemToShow(e.id),class:"items-prop"},[(0,s.Lk)("p",null,(0,m.v_)(e.name),1),(0,s.Lk)("p",null,(0,m.v_)(e.value),1),(0,s.Lk)("p",null,(0,m.v_)(e.unit),1)],8,L)):((0,s.uX)(),(0,s.CE)("div",{key:1,onKeypress:(0,u.jR)((t=>a.addUpdatedItem(e)),["enter"]),onKeydown:t[3]||(t[3]=(0,u.jR)(((...e)=>a.hideEditItem&&a.hideEditItem(...e)),["esc"])),class:"items-prop"},[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.newTitle=e),type:"text"},null,512),[[u.Jo,o.newTitle]]),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.newValue=e),type:"number",placeholder:"1"},null,512),[[u.Jo,o.newValue]]),(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.newUnit=e)},E,512),[[u.u1,o.newUnit]])],40,I))])])))),128)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>o.newItem=e),onKeydown:t[5]||(t[5]=(0,u.jR)(((...e)=>a.addNewItem&&a.addNewItem(...e)),["enter"])),type:"text",placeholder:"Enter your new item"},null,544),[[u.Jo,o.newItem]]),(0,s.Lk)("button",{class:"detail-btn",onClick:t[6]||(t[6]=(...e)=>a.removeItemDetail&&a.removeItemDetail(...e))},"Remove item")])}var U=i(8355),$={data(){return{shoppingList:null,newItem:"",changeItems:null,newTitle:"",newValue:"",newUnit:""}},async mounted(){try{const{data:{data:e}}=await U.A.get("https://shoppinglist.wezeo.dev/cms/api/v1/shopping-lists");this.shoppingList=e.find((({id:e})=>e==this.$route.params.id))}catch(e){console.error("Error:",e),this.shoppingList={error:e}}},methods:{async addNewItem(){try{const e={name:this.newItem.trim(),unit:"piece",value:1,is_checked:!1};if(!this.newItem.trim().length)return;{const t=await U.A.post(`https://shoppinglist.wezeo.dev/cms/api/v1/shopping-lists/${this.$route.params.id}/items`,e),i=t.data.data;this.shoppingList.items.push(i),this.newItem=""}}catch(e){console.error("Error:",e)}},async isChecked(e){try{await U.A.put(`https://shoppinglist.wezeo.dev/cms/api/v1/shopping-lists/${this.$route.params.id}/items/${e.id}`,{is_checked:e.is_checked})}catch(t){console.error("Error:",t)}},async removeItemDetail(){try{const e=this.shoppingList.items.filter((e=>!0===e.is_checked));e.forEach((async e=>{await U.A.delete(`https://shoppinglist.wezeo.dev/cms/api/v1/shopping-lists/${this.$route.params.id}/items/${e.id}`),this.shoppingList.items=this.shoppingList.items.filter((e=>!e.is_checked))}))}catch(e){console.error("Error:",e)}},async addUpdatedItem(e){try{if(!this.newTitle.trim().length||!this.newUnit.trim().length)return;{const t=await U.A.put(`https://shoppinglist.wezeo.dev/cms/api/v1/shopping-lists/${this.$route.params.id}/items/${e.id}`,{name:this.newTitle,value:this.newValue,unit:this.newUnit}),i=t.data.data;e.name=i.name,e.value=i.value,e.unit=i.unit,this.changeItems=null}}catch(t){console.error("Error:",t)}},showItemToShow(e){this.changeItems=e},hideEditItem(){this.changeItems=!this.changeItems}}};const T=(0,d.A)($,[["render",b],["__scopeId","data-v-27994fdc"]]);var V=T,A={components:{aShoppingListDetailHeader:c,aShoppingListDetailContent:V}};const S=(0,d.A)(A,[["render",o]]);var D=S}}]);
//# sourceMappingURL=618.2752d034.js.map