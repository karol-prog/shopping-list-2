"use strict";(self["webpackChunkshopping_list_2"]=self["webpackChunkshopping_list_2"]||[]).push([[298],{8298:function(t,i,s){s.r(i),s.d(i,{default:function(){return I}});var n=s(6768);const e={class:"container-content"};function o(t,i,s,o,a,l){const p=(0,n.g2)("aShoppingListsHeader"),r=(0,n.g2)("aShoppingListsContent");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bF)(p),(0,n.Lk)("div",e,[(0,n.bF)(r)])],64)}const a=t=>((0,n.Qi)("data-v-02604816"),t=t(),(0,n.jt)(),t),l=a((()=>(0,n.Lk)("h1",null,"Shopping list 2",-1))),p=[l];function r(t,i){return(0,n.uX)(),(0,n.CE)("header",null,p)}var u=s(1241);const h={},d=(0,u.A)(h,[["render",r],["__scopeId","data-v-02604816"]]);var c=d,L=s(5130),g=s(4232);const v=t=>((0,n.Qi)("data-v-49f9c3e1"),t=t(),(0,n.jt)(),t),k={class:"shopping-list-data"},C=v((()=>(0,n.Lk)("h2",null,"Your Shopping List",-1))),m=["href","onClick"],w=["onClick"],E={key:0},f=v((()=>(0,n.Lk)("p",null,"Loading Data",-1))),_=[f],y={key:1},S={key:2,class:"list-item"};function X(t,i,s,e,o,a){return(0,n.uX)(),(0,n.CE)("div",k,[(0,n.Lk)("ul",null,[C,(0,n.Lk)("form",{onSubmit:i[1]||(i[1]=(0,L.D$)(((...t)=>a.addNewList&&a.addNewList(...t)),["prevent"]))},[(0,n.bo)((0,n.Lk)("input",{type:"text",placeholder:"Enter new list","onUpdate:modelValue":i[0]||(i[0]=t=>o.newListTitle=t)},null,512),[[L.Jo,o.newListTitle]])],32),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.shoppingLists,(t=>((0,n.uX)(),(0,n.CE)("li",{class:"shopping-list-data-lists",key:t.id},[(0,n.Lk)("a",{href:`/shopping-lists/${t.id}`,onClick:(0,L.D$)((i=>a.openShoppingListDetail(t)),["prevent"])},(0,g.v_)(t.title),9,m),(0,n.Lk)("button",{onClick:i=>a.removeList(t.id)},"Remove",8,w),o.shoppingLists?o.shoppingLists.error?((0,n.uX)(),(0,n.CE)("div",y,[(0,n.Lk)("p",null,"Error while loading data: "+(0,g.v_)(o.shoppingLists.error),1)])):((0,n.uX)(),(0,n.CE)("div",S,[(0,n.Lk)("ul",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t.items.slice(0,3),(t=>((0,n.uX)(),(0,n.CE)("li",{class:"shopping-list-data-items",key:t.id},[(0,n.Lk)("p",null,(0,g.v_)(t.name),1),(0,n.Lk)("p",null,(0,g.v_)(t.value),1),(0,n.Lk)("p",null,(0,g.v_)(t.unit),1)])))),128))])])):((0,n.uX)(),(0,n.CE)("div",E,_))])))),128))])])}s(4114);var b=s(8355),A={data(){return{shoppingLists:null,newListTitle:""}},async mounted(){try{const{data:{data:t}}=await b.A.get("https://shoppinglist.wezeo.dev/cms/api/v1/shopping-lists");this.shoppingLists=t}catch(t){console.error("Error",t),this.shoppingLists={err:t}}},methods:{async removeList(t){try{const i=await b.A.delete(`/api/v1/shopping-lists/${t}`);let s=i.data.data;this.shoppingLists.splice(s,1)}catch(i){console.error("Error:",i)}},async addNewList(){try{const t=await b.A.post("/api/v1/shopping-lists",{title:this.newListTitle,items:[]}),i=t.data.data;this.shoppingLists.unshift(i),this.newListTitle=""}catch(t){console.log("Error:",t)}},openShoppingListDetail({id:t}){this.$router.push({name:"Shopping List - Detail",params:{id:t}})}}};const D=(0,u.A)(A,[["render",X],["__scopeId","data-v-49f9c3e1"]]);var F=D,T={components:{aShoppingListsHeader:c,aShoppingListsContent:F}};const $=(0,u.A)(T,[["render",o]]);var I=$}}]);
//# sourceMappingURL=298.08b461a1.js.map