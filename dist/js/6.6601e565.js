"use strict";(self["webpackChunkshopping_list_2"]=self["webpackChunkshopping_list_2"]||[]).push([[6],{7006:function(e,t,i){i.r(t),i.d(t,{default:function(){return z}});var s=i(6768);const n={class:"container-content"};function o(e,t,i,o,a,l){const p=(0,s.g2)("aShoppingListDetailHeader"),r=(0,s.g2)("aShoppingListDetailContent");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.bF)(p),(0,s.Lk)("div",n,[(0,s.bF)(r)])],64)}const a=e=>((0,s.Qi)("data-v-e6f9ded2"),e=e(),(0,s.jt)(),e),l=a((()=>(0,s.Lk)("h1",null,"Shopping list 2",-1)));function p(e,t,i,n,o,a){return(0,s.uX)(),(0,s.CE)("header",null,[l,(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>a.redirectToHome&&a.redirectToHome(...e))},"Back")])}i(4114);var r={methods:{redirectToHome(){this.$router.push({name:"Shopping List - List"})}}},d=i(1241);const h=(0,d.A)(r,[["render",p],["__scopeId","data-v-e6f9ded2"]]);var c=h,u=i(4232),m=i(5130);const g=e=>((0,s.Qi)("data-v-b5b01c0a"),e=e(),(0,s.jt)(),e),k={key:0},w=g((()=>(0,s.Lk)("div",{class:"lds-dual-ring"},null,-1))),v=[w],L={key:1},I={key:2,class:"shopping-list-data-detail"},y={class:"shopping-list-data-items"},C=["onUpdate:modelValue","onChange"],E=["onClick"],_={class:"value-units"},b=["onKeypress"],f=g((()=>(0,s.Lk)("option",{value:"grams"},"grams",-1))),U=g((()=>(0,s.Lk)("option",{value:"kilograms"},"kilograms",-1))),$=g((()=>(0,s.Lk)("option",{value:"piece"},"piece",-1))),T=g((()=>(0,s.Lk)("option",{value:"package"},"packages",-1))),V=[f,U,$,T];function X(e,t,i,n,o,a){return o.shoppingLists?o.shoppingLists.error?((0,s.uX)(),(0,s.CE)("div",L,[(0,s.Lk)("p",null,"Error while loading data: "+(0,u.v_)(o.shoppingLists.error),1)])):((0,s.uX)(),(0,s.CE)("div",I,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.shoppingLists?.items,(e=>((0,s.uX)(),(0,s.CE)("ul",{key:e.id},[(0,s.Lk)("li",y,[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t=>e.is_checked=t,onChange:t=>a.isChecked(e),type:"checkbox"},null,40,C),[[m.lH,e.is_checked]]),o.changeItems!==e.id?((0,s.uX)(),(0,s.CE)("div",{key:0,onClick:t=>a.showItemToShow(e.id),class:"items-prop"},[(0,s.Lk)("p",null,(0,u.v_)(e.name),1),(0,s.Lk)("div",_,[(0,s.Lk)("p",null,(0,u.v_)(e.value),1),(0,s.Lk)("p",null,(0,u.v_)(e.unit),1)])],8,E)):((0,s.uX)(),(0,s.CE)("div",{key:1,onKeypress:(0,m.jR)((t=>a.addUpdatedItem(e)),["enter"]),onKeydown:t[3]||(t[3]=(0,m.jR)(((...e)=>a.hideEditItem&&a.hideEditItem(...e)),["esc"])),class:"items-prop"},[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.newTitle=e),type:"text",placeholder:"Enter new item"},null,512),[[m.Jo,o.newTitle]]),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.newValue=e),type:"number",placeholder:"1",min:"0"},null,512),[[m.Jo,o.newValue]]),(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.newUnit=e)},V,512),[[m.u1,o.newUnit]])],40,b))])])))),128)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>o.newItem=e),onKeydown:t[5]||(t[5]=(0,m.jR)(((...e)=>a.addNewItem&&a.addNewItem(...e)),["enter"])),type:"text",placeholder:"Enter your new item"},null,544),[[m.Jo,o.newItem]]),(0,s.Lk)("button",{class:"detail-btn",onClick:t[6]||(t[6]=(...e)=>a.removeItemDetail&&a.removeItemDetail(...e))},"Remove item")])):((0,s.uX)(),(0,s.CE)("div",k,v))}var A=i(8355),S={data(){return{shoppingLists:null,newItem:"",changeItems:null,newTitle:"",newValue:"",newUnit:""}},async mounted(){try{const{data:{data:e}}=await A.A.get("https://shoppinglist.wezeo.dev/cms/api/v1/shopping-lists");this.shoppingLists=e.find((({id:e})=>e==this.$route.params.id))}catch(e){console.error("Error:",e),this.shoppingList={error:e}}},methods:{async addNewItem(){try{const e={name:this.newItem.trim(),unit:"piece",value:1,is_checked:!1};if(!this.newItem.trim().length)return;{const t=await A.A.post(`https://shoppinglist.wezeo.dev/cms/api/v1/shopping-lists/${this.$route.params.id}/items`,e),i=t.data.data;this.shoppingLists.items.push(i),this.newItem=""}}catch(e){console.error("Error:",e)}},async isChecked(e){try{await A.A.put(`https://shoppinglist.wezeo.dev/cms/api/v1/shopping-lists/${this.$route.params.id}/items/${e.id}`,{is_checked:e.is_checked})}catch(t){console.error("Error:",t)}},async removeItemDetail(){try{const e=this.shoppingLists.items.filter((e=>!0===e.is_checked));e.forEach((async e=>{await A.A.delete(`https://shoppinglist.wezeo.dev/cms/api/v1/shopping-lists/${this.$route.params.id}/items/${e.id}`),this.shoppingLists.items=this.shoppingLists.items.filter((e=>!e.is_checked))}))}catch(e){console.error("Error:",e)}},async addUpdatedItem(e){try{if(!this.newTitle.trim().length||!this.newUnit.trim().length)return;{const t=await A.A.put(`https://shoppinglist.wezeo.dev/cms/api/v1/shopping-lists/${this.$route.params.id}/items/${e.id}`,{name:this.newTitle,value:this.newValue,unit:this.newUnit}),i=t.data.data;e.name=i.name,e.value=i.value,e.unit=i.unit,this.newTitle="",this.newValue="",this.newUnit="",this.changeItems=null}}catch(t){console.error("Error:",t)}},showItemToShow(e){this.changeItems=e},hideEditItem(){this.changeItems=!this.changeItems}}};const D=(0,d.A)(S,[["render",X],["__scopeId","data-v-b5b01c0a"]]);var H=D,K={components:{aShoppingListDetailHeader:c,aShoppingListDetailContent:H}};const j=(0,d.A)(K,[["render",o]]);var z=j}}]);
//# sourceMappingURL=6.6601e565.js.map