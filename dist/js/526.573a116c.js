"use strict";(self["webpackChunkshopping_list_2"]=self["webpackChunkshopping_list_2"]||[]).push([[526],{9526:function(t,i,s){s.r(i),s.d(i,{default:function(){return K}});var n=s(6768);const e={class:"container-content"};function o(t,i,s,o,p,l){const a=(0,n.g2)("aShoppingListsHeader"),r=(0,n.g2)("aShoppingListsContent");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bF)(a),(0,n.Lk)("div",e,[(0,n.bF)(r)])],64)}const p=t=>((0,n.Qi)("data-v-02604816"),t=t(),(0,n.jt)(),t),l=p((()=>(0,n.Lk)("h1",null,"Shopping list 2",-1))),a=[l];function r(t,i){return(0,n.uX)(),(0,n.CE)("header",null,a)}var d=s(1241);const h={},u=(0,d.A)(h,[["render",r],["__scopeId","data-v-02604816"]]);var c=u,L=s(5130),g=s(4232);const v=t=>((0,n.Qi)("data-v-fd5fd9d2"),t=t(),(0,n.jt)(),t),k={class:"shopping-list-data"},w=v((()=>(0,n.Lk)("h2",null,"Your Shopping List",-1))),m=["href","onClick"],C=["onClick"],f={key:0},E=v((()=>(0,n.Lk)("p",null,"Loading Data",-1))),y=[E],_={key:1},X={key:2,class:"list-item"};function S(t,i,s,e,o,p){return(0,n.uX)(),(0,n.CE)("div",k,[(0,n.Lk)("ul",null,[w,(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":i[0]||(i[0]=t=>o.newListTitle=t),onKeydown:i[1]||(i[1]=(0,L.jR)(((...t)=>p.addNewList&&p.addNewList(...t)),["enter"])),type:"text",placeholder:"Enter new list"},null,544),[[L.Jo,o.newListTitle]]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.shoppingLists,(t=>((0,n.uX)(),(0,n.CE)("li",{key:t.id,class:"shopping-list-data-lists"},[(0,n.Lk)("a",{href:`/shopping-lists/${t.id}`,onClick:(0,L.D$)((i=>p.openShoppingListDetail(t)),["prevent"])},(0,g.v_)(t.title),9,m),(0,n.Lk)("button",{onClick:i=>p.removeList(t.id)},"Remove",8,C),o.shoppingLists?o.shoppingLists.error?((0,n.uX)(),(0,n.CE)("div",_,[(0,n.Lk)("p",null,"Error while loading data: "+(0,g.v_)(o.shoppingLists.error),1)])):((0,n.uX)(),(0,n.CE)("div",X,[(0,n.Lk)("ul",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t.items.slice(0,3),(t=>((0,n.uX)(),(0,n.CE)("li",{key:t.id,class:"shopping-list-data-items"},[(0,n.Lk)("p",null,(0,g.v_)(t.name),1),(0,n.Lk)("p",null,(0,g.v_)(t.value),1),(0,n.Lk)("p",null,(0,g.v_)(t.unit),1)])))),128))])])):((0,n.uX)(),(0,n.CE)("div",f,y))])))),128))])])}s(4114);var b=s(8355),A={data(){return{shoppingLists:null,newListTitle:""}},async mounted(){try{const{data:{data:t}}=await b.A.get("https://shoppinglist.wezeo.dev/cms/api/v1/shopping-lists");this.shoppingLists=t}catch(t){console.error("Error",t),this.shoppingLists={err:t}}},methods:{async removeList(t){try{const i=await b.A.delete(`https://shoppinglist.wezeo.dev/cms/api/v1/shopping-lists/${t}`);let s=i.data.data;this.shoppingLists=this.shoppingLists.filter((t=>t.id!==s.id))}catch(i){console.error("Error:",i)}},async addNewList(){try{if(!this.newListTitle.trim().length)return;{const t=await b.A.post("https://shoppinglist.wezeo.dev/cms/api/v1/shopping-lists",{title:this.newListTitle.trim(),items:[]}),i=t.data.data;this.shoppingLists.unshift(i),this.newListTitle=""}}catch(t){console.log("Error:",t)}},openShoppingListDetail({id:t}){this.$router.push({name:"Shopping List - Detail",params:{id:t}})}}};const T=(0,d.A)(A,[["render",S],["__scopeId","data-v-fd5fd9d2"]]);var D=T,F={components:{aShoppingListsHeader:c,aShoppingListsContent:D}};const I=(0,d.A)(F,[["render",o]]);var K=I}}]);
//# sourceMappingURL=526.573a116c.js.map